"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[910],{7910:function(e,s,n){n.r(s),n.d(s,{default:function(){return N}});var t=n(4942),o=n(1413),a=n(3433),l=n(9439),i=n(2791),r=n(7205),c=n(5017),m=n(5953),d=n(4565),p=n(9365),u=n(4020),h=n(8055),f=n(988),x=n(7689),g=n(1087),Z=n(6457),y=n(8704),j=n(1840),v=n(5206),b=(n(5462),n(9462)),S=n(184),w=Z.Z.getCurrentUser(),P=[188,13,49];function N(e){e.t,e.languages;(0,i.useEffect)((function(){w&&(Z.Z.logout(),window.location.reload())}),[]);var s=(0,x.s0)(),n=(0,i.useState)(!1),N=(0,l.Z)(n,2),C=N[0],z=N[1],F=(0,i.useState)({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),O=(0,l.Z)(F,2),I=O[0],W=O[1],k=i.useState([]),T=(0,l.Z)(k,2),A=T[0],U=T[1],V=(0,i.useState)(),R=(0,l.Z)(V,2),D=R[0],B=R[1],q=(0,i.useState)(""),E=(0,l.Z)(q,2),L=E[0],M=E[1],H=function(e){var s=e.target,n=s.name,a=s.value;W((function(e){return(0,o.Z)((0,o.Z)({},e),{},(0,t.Z)({},n,a))}))},_=function(){window.recaptchaVerifier=new b.Z.auth.RecaptchaVerifier("sign-in-button",{size:"invisible",callback:function(e){K(),console.log("Recaptcha Verified")},defaultCountry:"IN"})},K=function(e){e.preventDefault(),console.log("here"),_();var s="+91"+I.phone;console.log(s);var n=window.recaptchaVerifier;b.Z.auth().signInWithPhoneNumber(s,n).then((function(e){window.confirmationResult=e,console.log("OTP has been sent")})).catch((function(e){console.log("SMS not sent")}))},J=(0,i.useState)(!0),G=(0,l.Z)(J,2),Q=(G[0],G[1],(0,i.useState)(!0)),X=(0,l.Z)(Q,2),Y=(X[0],X[1],(0,i.useState)(!1)),$=(0,l.Z)(Y,2),ee=($[0],$[1],(0,i.useState)(!1)),se=(0,l.Z)(ee,2),ne=(se[0],se[1],(0,i.useState)(!1)),te=(0,l.Z)(ne,2);te[0],te[1];return(0,S.jsxs)("div",{className:"authContainer",children:[(0,S.jsx)(v.Ix,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light",color:"success"}),(0,S.jsx)(v.Ix,{}),C?(0,S.jsx)(j.Z,{}):(0,S.jsxs)("div",{className:"authbox",children:[(0,S.jsx)("img",{className:"login_image",src:"./images/2.png",alt:"logo"}),(0,S.jsxs)("form",{className:"register_details",component:"form",noValidate:!0,onSubmit:function(e){console.log("inside handleSubmit"),M(""),e.preventDefault();var n=I.phone,t=I.firstname,o=I.lastname,a=I.farmertype,l=I.type;n.match("[0-9]{10}")?0===t.length&&0===o.length?M("Please provide valid first and last name"):0===l.length?M("Please select type"):"farmer"===l&&0===a.length?M("select producer type"):"farmer"===l&&0===A.length?M("select atleast one commodity and press enter"):(M("no error"),z(!0),Z.Z.register(I.phone,I.password,I.firstname,I.lastname,I.type,I.farmertype,I.address,A).then((function(){v.Am.success("Registration successful!",{position:"top-center",autoClose:3e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),setTimeout((function(){s("/registeration-successfull"),window.location.reload()}),1e3)}),(function(e){v.Am.warn("User Already Exists",{position:"top-center",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}),W({phone:"",password:"",firstname:"",lastname:"",type:"",farmertype:"",address:""}),setTimeout((function(){s("/login"),window.location.reload()}),1e3)}))):M("Please provide valid phone number")},sx:{mt:3},children:[(0,S.jsx)("div",{id:"sign-in-button"}),(0,S.jsx)("img",{className:"form-logo",src:"./logo.png",alt:"form-logo"}),(0,S.jsx)(d.Z,{className:"form-heading",component:"h1",variant:"h5",children:"Welcome to Wingrowagritech"}),(0,S.jsx)(d.Z,{className:"form-heading",mt:2,component:"h1",variant:"h5",children:"Signup with us"}),(0,S.jsxs)(m.ZP,{className:"input-div-holder",container:!0,spacing:2,children:[(0,S.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},autoComplete:"given-name",name:"firstname",value:I.firstname,onChange:H,required:!0,fullWidth:!0,id:"firstName",label:"First Name",autoFocus:!0,color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{item:!0,xs:12,sm:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,id:"lastName",label:"Last Name",name:"lastname",value:I.lastname,onChange:H,autoComplete:"family-name",color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,id:"phone",label:"Mobile Number",name:"phone",value:I.phone,onChange:H,color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{item:!0,xs:6,children:(0,S.jsx)(r.Z,{type:"button",fullWidth:!0,onClick:K,className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:2,mb:2},children:"Fetch Otp"})}),(0,S.jsx)(m.ZP,{item:!0,xs:6,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},required:!0,fullWidth:!0,name:"password",label:"Enter OTP",type:"password",id:"password",value:I.password,onChange:H,autoComplete:"new-password",color:"success",className:"textfield"})}),(0,S.jsx)(m.ZP,{item:!0,xs:6,children:(0,S.jsx)(r.Z,{type:"button",fullWidth:!0,onClick:function(e){e.preventDefault();var s=I.password;console.log(s),window.confirmationResult.confirm(s).then((function(e){var s=e.user;console.log(JSON.stringify(s)),alert("User is verified")})).catch((function(e){console.log("erroe in sumbitotp")}))},className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:2,mb:2},children:"Submit OTP"})}),(0,S.jsx)(m.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{className:"textfield",sx:{width:"100%",fontSize:14},children:[(0,S.jsx)(p.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},id:"demo-simple-select-helper-label",children:"Type"}),(0,S.jsxs)(f.Z,{sx:{fontSize:"1.2rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:I.type,label:"Type",name:"type",onChange:H,color:"success",children:[(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"",children:(0,S.jsx)("em",{children:"Select"})}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"farmer",children:"Producer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"customer",children:"Consumer"})]})]})}),"farmer"===I.type&&(0,S.jsx)(m.ZP,{item:!0,xs:12,children:(0,S.jsxs)(h.Z,{className:"textfield",color:"success",sx:{width:"100%"},children:[(0,S.jsx)(p.Z,{id:"demo-simple-select-helper-label",children:"Producer Type"}),(0,S.jsxs)(f.Z,{sx:{fontSize:"1.3rem"},labelId:"demo-simple-select-helper-label",id:"demo-simple-select-helper",value:I.farmertype,label:"farmertype",name:"farmertype",onChange:H,children:[(0,S.jsx)(u.Z,{value:"",children:(0,S.jsx)("em",{children:"None"})}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"farmers",children:"Farmer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Organic farmers",children:"Organic Farmer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"FPO/FPC",children:"FPO/FPC"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Retailer",children:"Retailer"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Wholesaler",children:"Wholesaler"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Start-up",children:"Start Up"}),(0,S.jsx)(u.Z,{sx:{fontSize:"1.3rem",fontFamily:"monospace"},value:"Vocal for local producers",children:"Vocal for Local Producers"})]})]})}),(0,S.jsx)(m.ZP,{item:!0,xs:12,children:(0,S.jsx)(c.Z,{inputlabelprops:{style:{fontSize:14,fontFamily:"monospace"}},fullWidth:!0,name:"address",label:"address (optional)",type:"address",id:"address",value:I.address,onChange:H,autoComplete:"new-address",color:"success",className:"textfield"})}),"farmer"===I.type&&(0,S.jsx)(m.ZP,{item:!0,xs:6,children:(0,S.jsx)(y.V,{InputProps:{style:{fontSize:15}},inputlabelprops:{style:{fontSize:15}},tags:A,delimiters:P,handleDelete:function(e){U(A.filter((function(s,n){return n!==e})))},handleAddition:function(e){console.log("here",D),U([].concat((0,a.Z)(A),[e])),B("")},handleDrag:function(e,s,n){var t=A.slice();t.splice(s,1),t.splice(n,0,e),U(t)},inputFieldPosition:"bottom",handleInputChange:console.log("hello-----",A),autocomplete:!0,color:"success",className:"textfield",placeholder:"Add Selling Products Names and press enter"})})]}),"no error"!==L&&(0,S.jsx)("h3",{style:{alignSelf:"center",color:"red",marginTop:"10px"},children:L}),(0,S.jsx)(r.Z,{item:!0,xs:12,type:"submit",fullWidth:!0,className:"signup-btn",variant:"contained",color:"success",size:"large",sx:{mt:3,mb:2},children:"register"}),(0,S.jsx)(m.ZP,{container:!0,justifyContent:"center",children:(0,S.jsx)(m.ZP,{item:!0,children:(0,S.jsxs)(g.rU,{className:"form-link",to:"/login",variant:"body2",children:["Already have an account? ",(0,S.jsx)("span",{className:"login",children:"Log In"})]})})})]})]})]})}},9462:function(e,s,n){var t=n(3897);n(444);t.Z.initializeApp({apiKey:"AIzaSyAUxdUdNhrl8BSz_4MxKa0d6FwiCfgMtUE",authDomain:"otp-demo-cc2a7.firebaseapp.com",projectId:"otp-demo-cc2a7",storageBucket:"otp-demo-cc2a7.appspot.com",messagingSenderId:"646152500375",appId:"1:646152500375:web:389ef29c749b662bd8e5d2"}),s.Z=t.Z}}]);
//# sourceMappingURL=910.cd02f7a9.chunk.js.map