"use strict";(self.webpackChunkwingrow=self.webpackChunkwingrow||[]).push([[416],{4416:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var r=n(1413),o=n(9439),s=n(2791),a=n(5653),i=n(1840),l=n(6457),c=n(184),u=function(){var e=(0,s.useState)(),t=(0,o.Z)(e,2),n=t[0],u=t[1],d=(0,s.useState)(!1),f=(0,o.Z)(d,2),p=f[0],g=f[1],m=(0,s.useState)(!1),h=(0,o.Z)(m,2),b=h[0],j=h[1],v=(0,s.useState)(!1),x=(0,o.Z)(v,2),w=x[0],Z=x[1],_=(0,s.useRef)(""),O=(0,s.useState)({photo:""}),y=(0,o.Z)(O,2),N=y[0],P=y[1];(0,s.useEffect)((function(){a.Z.getAllUsers().then((function(e){var t=null===e||void 0===e?void 0:e.data;u(t[0])}))}),[]);return(0,c.jsx)("div",{children:!p&&n?(0,c.jsx)("div",{className:"profile",children:(0,c.jsxs)("div",{className:"profile_container",children:[(0,c.jsx)("div",{className:"profile_image_wrapper",children:(0,c.jsx)("img",{className:"profile_img",src:n.pic?n.pic:" ",alt:"profile"})}),(0,c.jsxs)("div",{className:"profile_details",children:[(0,c.jsxs)("div",{children:["Mobile No : ",n.phone]}),(0,c.jsxs)("div",{children:["Name : ",n.firstname," ",n.lastname]}),n.address&&(0,c.jsxs)("div",{children:["Address : ",n.address]})]}),(0,c.jsxs)("div",{className:"profile_btn_grp",children:[b?(0,c.jsxs)("form",{className:"form_uploaddata",onSubmit:function(e){e.preventDefault();var t=new FormData;t.append("photo",N.photo),g(!0),t&&l.Z.addimage(t).then((function(e){e?(u(e),console.log(e)):console.log("Image not set"),window.location.reload(),g(!1)})),j(!b)},encType:"multipart/form-data",children:[(0,c.jsx)("input",{type:"file",accept:".png, .jpg, .jpeg",name:"photo",style:{marginLeft:"auto"},onChange:function(e){P((0,r.Z)((0,r.Z)({},N),{},{photo:e.target.files[0]}))}}),(0,c.jsx)("input",{type:"submit",className:"profile_btn_toggle"}),(0,c.jsx)("button",{className:"profile_btn_toggle",onClick:function(){return j(!b)},children:"cancel"})]}):(0,c.jsx)("button",{className:"profile_btn_toggle",onClick:function(){j(!b)},children:"Upload Profile"}),w?(0,c.jsxs)("form",{className:"form_uploaddata",onSubmit:function(e){e.preventDefault();var t=_.current.value;t&&0!==t.length&&l.Z.addAddress(t).then((function(e){u(e),console.log("user ",e),window.location.reload(),g(!1)})),Z(!w)},children:[(0,c.jsx)("input",{type:"text",name:"address",ref:_}),(0,c.jsx)("input",{type:"submit",className:"profile_btn_toggle"}),(0,c.jsx)("button",{className:"profile_btn_toggle",onClick:function(){return Z(!w)},children:"cancel"})]}):(0,c.jsx)("button",{className:"profile_btn_toggle",onClick:function(){Z(!w)},children:n.address?"Update Address":"Add Address"})]})]})}):(0,c.jsx)(i.Z,{})})}},5653:function(e,t,n){var r=n(4569),o=n.n(r),s=n(6456),a="http://localhost:4000/",i={getPublicContent:function(){return o().get(a+"all")},getStallsData:function(){return o().get(a+"stalls",{headers:(0,s.Z)()})},getAdminData:function(){return o().get(a+"admin",{headers:(0,s.Z)()})},getInOutdata:function(){return o().get(a+"inwardoutward",{headers:(0,s.Z)()})},getFarmers:function(){return o().get(a+"farmer",{headers:(0,s.Z)()})},getAllUsers:function(){return o().get(a+"allusers",{headers:(0,s.Z)()})},getUsers:function(){return o().get(a+"users",{headers:(0,s.Z)()})}};t.Z=i},4942:function(e,t,n){function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}n.d(t,{Z:function(){return r}})},1413:function(e,t,n){n.d(t,{Z:function(){return s}});var r=n(4942);function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){(0,r.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}}}]);
//# sourceMappingURL=416.c432a6b2.chunk.js.map